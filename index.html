<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sutradhar</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400..700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="homepage.css">
<style>
  /* Blur overlay */
  #blurOverlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    backdrop-filter: blur(6px);
    z-index: 1000;
  }

  /* Login message */
  #loginMessage {
    position: fixed;
    top: 15%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: #fff;
    font-family: 'Dancing Script', cursive;
    font-size: 36px;
    text-align: center;
    z-index: 1001;
    background: rgba(0, 0, 0, 0.6);
    padding: 20px 30px;
    border-radius: 12px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.4);
  }

  /* Make auth form a modal on top */
  .auth-form {
    position: fixed;
    top: 40%;
    left: 50%;
    transform: translate(-50%, -50%);
    max-width: 400px;
    padding: 20px;
    background: rgba(0,0,0,0.7);
    border-radius: 12px;
    color: white;
    z-index: 1002;
    text-align: center;
    font-family: 'Trebuchet MS', sans-serif;
  }

  .auth-form input {
    width: 90%;
    padding: 10px;
    margin: 10px 0;
    border: none;
    border-radius: 6px;
    font-size: 16px;
  }

  .auth-form button {
    width: 95%;
    padding: 10px;
    margin-top: 10px;
    border: none;
    border-radius: 6px;
    background-color: #fcB533;
    color: black;
    font-weight: bold;
    cursor: pointer;
    transition: background 0.3s;
  }

  .auth-form button:hover {
    background-color: #ffdd57;
  }

  .auth-form h2 {
    margin: 0 0 15px;
    font-family: 'Dancing Script', cursive;
    font-size: 28px;
  }
</style>
</head>
<body>

<!-- Blur and login message -->
<div id="blurOverlay"></div>
<div id="loginMessage">To access Sutradhar, please login</div>

<!-- Auth form -->
<div class="auth-form">
  <h2>Login / Register</h2>
  <input type="email" id="email" placeholder="Email">
  <input type="password" id="password" placeholder="Password">
  <button id="loginBtn">Login</button>
  <button id="registerBtn">Register</button>
</div>

<!-- Your normal homepage content -->
<div class="content">
  <h1 class="heading">Sutradhar</h1>
  <h2 class="head2">Weaving the stories of Indian art</h2>
   <p class="para">
      India’s traditional artforms like Warli, Pithora, and Madhubani are not just paintings — they are living stories of heritage, community, and identity. Yet in today’s fast-changing world, many of these rich traditions remain unseen and unheard.
      <br><br>
      Our platform is dedicated to preserving and promoting these artforms by providing a digital home where local artists can showcase their creations to global audiences. Here, you can explore unique collections, learn about the history and meaning behind each artwork, and directly connect with the artists who keep these traditions alive.
      <br><br>
      By bridging age-old craftsmanship with modern technology, we aim to create a sustainable ecosystem where artists thrive, audiences engage meaningfully, and cultural heritage continues to inspire generations.
    </p>
  </div>

<nav class="navbar">
  <div class="navdiv">
    <div class="logo"><a href="#">Sutradhar</a></div>
    <ul>
      <li><a href="#">Home</a></li>
      <li><a href="#">Artists</a></li>
      <li><a href="#">Artform</a></li>
      <li><a href="#">Community</a></li>
      <li><a href="#">FAQ</a></li>
    </ul>
  </div>
</nav>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
  import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js";

  const firebaseConfig = {
    apiKey: "AIzaSyBv23cbRzW4y224z3YDPPMvGMkx0k-Mxu8",
    authDomain: "sutradhar-2c17d.firebaseapp.com",
    projectId: "sutradhar-2c17d",
    storageBucket: "sutradhar-2c17d.firebasestorage.app",
    messagingSenderId: "527545107973",
    appId: "1:527545107973:web:a7f1548107c826429bbe6c",
    measurementId: "G-86KK9NQDDT"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);

  const blur = document.getElementById('blurOverlay');
  const message = document.getElementById('loginMessage');
  const authForm = document.querySelector('.auth-form');

  const loginBtn = document.getElementById('loginBtn');
  const registerBtn = document.getElementById('registerBtn');
  const emailInput = document.getElementById('email');
  const passwordInput = document.getElementById('password');

  // Hide content until login
  blur.style.display = 'block';
  message.style.display = 'block';
  authForm.style.display = 'block';

  // Register
  registerBtn.addEventListener('click', () => {
    const email = emailInput.value;
    const password = passwordInput.value;

    createUserWithEmailAndPassword(auth, email, password)
      .then(userCredential => {
        alert('Registration successful!');
        hideLoginOverlay();
      })
      .catch(error => alert(error.message));
  });

  // Login
  loginBtn.addEventListener('click', () => {
    const email = emailInput.value;
    const password = passwordInput.value;

    signInWithEmailAndPassword(auth, email, password)
      .then(userCredential => {
        alert('Login successful!');
        hideLoginOverlay();
      })
      .catch(error => alert(error.message));
  });

  function hideLoginOverlay() {
    blur.style.display = 'none';
    message.style.display = 'none';
    authForm.style.display = 'none';
  }

  // Protect page: redirect if not logged in
  onAuthStateChanged(auth, user => {
    if (!user) {
      blur.style.display = 'block';
      message.style.display = 'block';
      authForm.style.display = 'block';
    }
  });
</script>

</body>
</html>
